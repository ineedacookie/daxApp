{% extends "admin.html" %}
{% load tz %}

{% block title  %}{{ entry_type }} Time Action{% endblock %}
{% block header %}{{ entry_type }} Time Action{% endblock %}

{% block content %}
<form id="content" method="post">
	{% csrf_token %}
	<div class="form-group">
		<div class="form-row">
			<div class="col">
				{{ form.type.label_tag }}
				{{ form.type }}
			</div>
			<div class="col">
				{{ form.action_datetime.label_tag }}
				{% timezone correct_timezone %}
					<div class="input-group">
						{#<!--TODO: we need this to be interactive. type="date" and type="time" are needed-->#}
						{{ form.action_datetime }}
					</div>
				{% endtimezone %}
			</div>
		</div>
	</div>
	<div class="form-group">
		{{ form.comment.label_tag }}
		{{ form.comment }}
	</div>
	<div class="form-row justify-content-between">
    <!--TODO: shouldn't have to scroll down to see these buttons...-->
		<div class="btn-toolbar mb-1">
			<button type="submit" class="btn btn-primary"><i class="fas fa-check mr-2"></i>Save</button>
			{% if entry_type == "Add" %}
				<button type="submit" class="ml-1 btn btn-primary" name="_addanother" value="Clicked"><i class="fas fa-calendar-plus mr-2"></i>Save And Add another</button>
			{% endif %}
		</div>
		<a href="#" id="cancelButton" class="btn btn-danger"><i aria-hidden="true" class="fas fa-times mr-2"></i>Cancel</a>
	</div>
</form>
{% endblock %}
{% block afterScripts %}
<script type="text/javascript">
	$("#cancelButton").click(()=>{
		window.location.href = window.location.href.replace('time_action_create', 'modify_times')
	})
</script>
{% endblock %}